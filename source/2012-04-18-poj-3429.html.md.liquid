---
layout: post
title: "POJ 3429 - Geometry with a ruler"
---
[http://poj.org/problem?id=3429](http://poj.org/problem?id=3429)

## 概要
二次元座標上の \\(N\\) 個の点が与えられる。

この後、「a 番目と b 番目の点を結んだ直線と、c 番目と d 番目の点を結んだ直線の交点を求めよ」という命令が \\(M\\) 個くる。
\\(k\\) 番目の命令によってできた交点は \\(N+k\\) 番目の点と呼び、以降の命令で参照されることがある。

このとき、一番最初に原点と一致する交点は何番目の命令によって得られるかを答える。
ただし、どの命令によっても得られない場合は 0 と答える。

## 制約
- \\(4 \\le N \\le 100\\)
- \\(1 \\le M \\le 10\\)
- \\(-10 ^ 6 \\le x\_i, y\_i \\le 10 ^ 6\\)
- 命令によって引いた直線の交点は必ず存在する

## 解法
やるだけだが、double でやると精度が足りなくて WA。
long long の有理数でオーバーフローに注意しながら計算して通った。

{% include_code lang:cpp poj/3429.cc %}
