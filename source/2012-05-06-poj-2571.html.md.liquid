---
layout: post
title: "POJ 2571 - Global Roaming"
---
[http://poj.org/problem?id=2571](http://poj.org/problem?id=2571)

## 概要
地球上のある地点の上空 \\(h\\) km の位置に人工衛星があり、そこから地平線まで電波を飛ばすことができる。
与えられた \\(n\\) 個の地点の位置が与えられるので、それらのうち人工衛星からの電波を受け取ることができるものだけを答える。

位置は緯度と経度によって与えられる。
地球は半径6387kmの完全な球だとし、人工衛星は点とみなす。

## 制約
特になし

## 解法
各地点と人工衛星の位置とがなす各の大きさを求め、それが人工衛星から地平線までの角度より小さいものだけを出力する。
前者は緯度と経度で与えられた位置を三次元座標に変換して内積を計算することで得られ、後者は水平線の位置・地球の中心・人工衛星の位置が直角三角形をなすことから得られる。

どちらもまずコサインの値が得られるので、以下のコードではその値で大小比較している。

{% include_code lang:cpp poj/2571.cc %}
