---
layout: post
title: "POJ 1946 - Cow Cycling"
---
[http://poj.org/problem?id=1946](http://poj.org/problem?id=1946)

## 概要
N 頭の牛が一列に並んで D 周のレースをする．

すべての牛は最初 E のエネルギーを持っている．
単位時間に x 周の速度で走ると，単位時間に先頭の牛は x\*x のエネルギーを消費し，そうでない牛は x のエネルギーを消費する．
エネルギーの無くなった牛は走ることができない．

牛はどのタイミングでもドロップアウトすることができるし，どのタイミングでも先頭の牛を交代できる．
このときにかかる時間は無視してよい．

ゴール時間が最速になるように走ったとき，そのゴール時間を出力する．

## 制約
- 1 <= N <= 20
- 100 <= D <= 100
- 100 <= E <= 100

## 解法
    dp[n][e][d] := d 週目を n 頭目の牛を先頭として走っており，先頭の牛のこれまでに消費したエネルギーが e のときの最短時間

として DP．

単位時間毎に見ると

- 先頭の牛をそのままにして x の速度で走る
- 先頭の牛をドロップアウトさせて次の牛が x の速度で走る

の2パターンしか無いので，この2つで DP 表を更新していく．

{% include_code lang:cpp poj/1946.cc %}
