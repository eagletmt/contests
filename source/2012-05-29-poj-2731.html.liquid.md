---
layout: post
title: "POJ 2731 - ACM(ACronymMaker)"
---
[http://poj.org/problem?id=2731](http://poj.org/problem?id=2731)

## 概要
大文字のアルファベットからなる略語と、小文字のアルファベットからなるいくつかの単語が与えられる。
与えられた略語になるような選び方が何通りあるか答える。

\\(n\\) 個の重要でない単語が与えられ、それに含まれる単語から略語となるアルファベットを選んではならない。
また、各単語から1つ以上のアルファベットを選ばなければならない。
もちろん、選んだアルファベットは略語と同じ順番に現れなければならない。

## 制約
- \\(1 \\le n \\le 100\\)
- 一行(略語 + 単語列)の文字数は150以下
- 32-bit signed integer に収まるとか書いてあるけど、実際には long long でないと無理

## 解法
まず重要でない単語は最初から除外して考えればいい。

    dp[i][j] = i 番目までの単語で略語の j 文字目までを作る選び方

という DP。
i 番目の単語で初めて j 文字目を作るには以下の2種類しかない。

* i 番目の単語で j-1 文字目まで作ってそれに繋げて `dp[i][j-1]` 通り
* i-1 番目の単語で j-1 文字目まで作ってそれに繋げて `dp[i-1][j-1]` 通り

{% include_code lang:cpp poj/2731.cc %}
