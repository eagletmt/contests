---
layout: post
title: "POJ 2444 - Partition a Matrix"
---
[http://poj.org/problem?id=2444](http://poj.org/problem?id=2444)

## 概要
M \* N の非負整数からなる行列が与えられる．

これを水平方向か垂直方向に2回切ることで3つの部分行列に分ける．
ただし，このときどの部分行列も1つ以上の要素を持っていなければならない．

3つの部分行列の要素の和をそれぞれ X, Y, Z としたとき，|X-Y| + |Y-Z| + |Z-X| の最小値を答える．

## 制約
- 2 <= M, N <= 500
- 要素の値は 0 以上 65535 以下

## 解法
a(0,0) から a(i,j) までの累積和を最初に O(M N) で計算しておけば，どの X, Y, Z も定数時間で求められる．

あとは切り方を全部試して最小値を取るだけ．
切り方は

- 水平方向に切ってから上側を垂直に切る
- 水平方向に切ってから下側を垂直に切る
- 垂直方向に切ってから左側を水平に切る
- 垂直方向に切ってから右側を水平に切る
- 水平方向に2回切る
- 垂直方向に2回切る

の6種類．

{% include_code lang:cpp poj/2444.cc %}
