---
layout: post
title: "POJ 3180 - The Cow Prom"
---
[http://poj.org/problem?id=3180](http://poj.org/problem?id=3180)

## 概要
N 頭の牛が stock tank の周りに 1, 2, ..., N の順に並んでいる．

M 本のロープがそれぞれ2頭の牛を繋いでいる．

ある牛が stock tank を中心にして回ったとき，ロープを引っぱる形で別の牛もつられて周る．
このとき，時計回り・反時計回りのどちらに動いても最終的に自分の別のロープに引っぱられるようなとき，
その一連のグループは正しく踊ることができる．

正しく踊ることができるグループがいくつあるか答える．

## 制約
- 2 <= N <= 10000
- 2 <= M <= 50000

## 解法
強連結成分分解でグループに分けることができる．
それらグループのうち，サイズが2以上なものの数を数えればいい．

{% include_code lang:cpp poj/3180.cc %}
