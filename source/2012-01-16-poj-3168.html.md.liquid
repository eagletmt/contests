---
layout: post
title: "POJ 3168 - Barn Expansion"
---
[http://poj.org/problem?id=3168](http://poj.org/problem?id=3168)

## 概要
どの辺も X 軸か Y 軸に平行で，どの頂点も格子点にあるような長方形が N 個与えられる．
これらの長方形は互いに重なっていることは無いが，頂点や辺が接していることはある．

どの頂点も辺も，他の長方形の頂点や辺と接していないような長方形はいくつあるか答える．

## 制約
- 1 <= N <= 25,000
- 0 <= 座標 <= 10^6

## 解法
Y 軸に平行な辺に対して，X 座標と Y 座標の区間に関してソートし，同じ X 座標でかつ Y 座標の区間が重なっている点があるかどうかを調べ，ダメな長方形にマークをつける．

X 軸に平行な辺に対しても同様にチェックし，ダメな長方形にマークをつける．

最後にマークのついていない長方形の数を数えて答える．

{% include_code lang:cpp poj/3168.cc %}
