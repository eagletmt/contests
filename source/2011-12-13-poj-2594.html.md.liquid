---
layout: post
title: "POJ 2594 - Treasure Exploration"
---
[http://poj.org/problem?id=2594](http://poj.org/problem?id=2594)

## 概要
ロボットを使って N 個の場所を調査したい．
ロボットは任意の場所からスタートさせることができる．

M 本の道があり，ある場所から別の場所へ単方向に移動することができる．
これを有向辺で表すとそのグラフは DAG になっている．

N 個すべての場所を調査するのに必要な最小のロボットの数を答える．

## 制約
- 1 <= N <= 500
- 0 <= M <= 5000

## 解法
ようは DAG の最小パス被覆を求めればいい．

最初にワーシャル・フロイドで「場所 i から場所 j へ到達できる」ような i, j を計算して，そのすべてに有向辺を張っておき，二部マッチングすればいい．

ワーシャル・フロイドをして辺を張っておかないと，以下のようなケースで 3 と答えて死ぬことになる．
![](/images/poj/2594.svg)

{% include_code lang:cpp poj/2594.cc %}
