---
layout: post
title: "POJ 3343 - Against Mammoths"
---
[http://poj.org/problem?id=3343](http://poj.org/problem?id=3343)

## 概要
人類は H 個の惑星を持っており，それぞれの惑星には最初 n[i] 個の宇宙船があり，さらに一年毎に m[i] 個の宇宙船を製造することができる．

一方エイリアンは A 個の惑星を持っており，同様にそれぞれの惑星には最初 n'[i] 頭のマンモスがおり，さらに一年毎に m'[i] 頭マンモスが増える．

このとき，人類がすべてのエイリアンの惑星を征服できる最小の年数を答える．
ただし，征服できないときは「IMPOSSIBLE」と答える．

1つの惑星で作られた宇宙船はある時点で同時に1つの惑星へと向かい，宇宙船の数がマンモスの数以上だったときに征服できる．
複数の惑星から1つの惑星を攻めることはできないし，1つの惑星が複数の惑星を攻めることもできない．

惑星間には距離が設定されており，移動に Y[i][j] 年掛かる．移動中は当然宇宙船を製造することはできないが，その間もマンモスは増え続ける．

## 制約
- 1 <= A, H <= 250
- 0 <= n[i], m[i], n'[i], m'[i], Y[i][j] <= 4 * 10^4

## 解法
Y 年間で征服できるかどうかを判定しながら，Y に関して二分探索．
十分大きな Y で征服できないときは「IMPOSSIBLE」.

判定は，Y 年間で征服できる惑星にエッジを張った二部グラフの最大マッチングが A と等しいかどうかでわかる．

{% include_code lang:cpp poj/3343.cc %}
