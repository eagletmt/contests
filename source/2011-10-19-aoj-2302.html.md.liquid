---
layout: post
title: "AOJ 2302 - On or Off"
---
[http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2302](http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2302)

## 概要
R x C の部屋と壁からなるマップが与えられる．
M 個の (r[i], c[i]) にある部屋を与えられた順に巡る．
スタート地点は (r[0], c[0])，ゴール地点は (r[M-1], c[M-1])．

部屋に入るときは必ずその部屋の電気をつけなければならない．
ゴール地点についたときには全ての部屋の電気が消えていなければならない．

各部屋の電気には

- 付けるときのコスト
- 消すときのコスト
- つけっぱなしにしたときの，1ステップ毎のコスト

が設定されている．

コストが最小になるように電気を操作したとき，そのときのコストを出力する．

## 制約
- 0 < R <= 50
- 0 < C <= 50
- 2 <= M <= 1000
- ある部屋からある部屋までのパスは一意
- コストに関する制約が書かれていないが，int で通ったのでまぁそういうことだと思う

## 解法
通る部屋の時刻は一意に決まるので，シミュレーションにより通る時刻を記録し，2回以上通る部屋について，つけっぱなしの方が良いか，消してから付ける方が良いかを計算する．
{% include_code lang:cpp aoj/2302.cc %}
