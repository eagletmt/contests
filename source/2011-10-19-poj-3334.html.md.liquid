---
layout: post
title: "POJ 3334 - Connected Gheeves"
---
[http://poj.org/problem?id=3334](http://poj.org/problem?id=3334)

## 概要
Gheeves とは，以下の条件を満たす点列 (p[1], ..., p[n]) を直線で結んでできる漏斗のような形をしたものである．
図があるのでイメージしやすい．

- 3 <= n <= 1000
- y[1] > y[2] > ... > y[c] かつ y[c] < y[c+1] < ... < y[n] となる 1 < c < n が存在する
- 任意の 1 <= i < c なる i について x[i] < x[c]
- 任意の c < i <= n なる i について x[i] > x[c]
- 任意の 1 <= i < c なる i について，p[i-1], p[i], p[i+1] が同一直線上になるように p[i-1] を p[i] に関して時計回りに回転させたときの角度は180度より大きい
- 同様に，任意の c < i < n なる i について，p[i-1], p[i], p[i+1] が同一直線上になるように p[i-1] を p[i] に関して時計回りに回転させたときの角度は180度より大きい

x 座標がすべて負の gheeves P と，x 座標がすべて正の gheeves Q が与えられる．
この2つの gheeves は，太さの無視できる管で底が繋がっている．

これに容量 A の水を入れたときの，水位の y 座標を答える．
今は二次元上で考えているので，面積が容量に等しい．

ただし，もし水位がいずれかの gheeves のへりより高くなった場合，そこから水はこぼれ落ちる．

## 制約
上の gheeves の定義にある通り

## 制約
水位 h に関して，そのときの容量を計算して二分探索．

線分 pq に対して，pq が h より低ければ台形，pq と h が交わっていれば三角形を足していくことで容量を求める．

{% include_code lang:cpp poj/3334.cc %}
