---
layout: post
title: "POJ 1137 - The New Villa"
---
[http://poj.org/problem?id=1137](http://poj.org/problem?id=1137)

## 概要
r 個の部屋をもつ別荘がある．1番目の部屋が玄関で，r 番目の部屋が寝室．各部屋には明かりがある．
d 個の廊下があり，それぞれ1つの部屋と1つの部屋を繋いでいる．
s 個のスイッチがあり，各スイッチはいずれかの部屋に存在し，いずれかの部屋の明かりを点けたり消したりできる．

今，玄関のみ明かりが点いており，自分も玄関にいる．
スイッチを押したり，廊下を渡って明かりの点いている部屋に移動したりしながら，最終的に寝室に行き，寝室のみ明かりが点いている状態にしたい．
最小のステップ数でそのような状態するとき，どのように行動すればいいかを答える．

ただし，1ステップは

- 1つスイッチを押す
- 1つ廊下を渡って別の部屋へ行く

のいずれかに対応する．

## 制約
- 1 <= r <= 10

## 解法
状態数は r \* 2^r 程度なので，これで単に BFS すればいい．

しかし，同じ最小のステップ数にする行動の仕方は一通りとは限らないのに，どれを出力すればよいか示されていないし Special Judge でもない糞ゲー．

- スイッチの操作より部屋の移動を優先する
- 部屋の移動は，入力で先に与えられたほうを優先する
- スイッチの操作は，スイッチに対応する明かりのある部屋番号が小さいほうを優先する

みたいにしたら通った．

{% include_code lang:cpp poj/1137.cc %}
