---
layout: post
title: "POJ 1300 - Door Man"
---
[http://poj.org/problem?id=1300](http://poj.org/problem?id=1300)

## 概要
N 個の部屋をいくつかのドアが繋いでいる．

M 番目の部屋からスタートしてドアを閉めてゆく．最初，すべてのドアは開いている．
このとき，以下の条件を満たすようなパスが存在するかどうかを答える．
また，存在する場合は閉めるドアの数も答える．

- ドアを通過したら，そのドアは必ず閉める
- 閉じているドアを開けない
- 0 番目の部屋にすべてのドアを閉めた状態で到達する

## 制約
- 1 <= N <= 20

## 解法
条件からドアは全て閉めるので，閉めたドアの数 = ドアの数．

M からスタートして 0 で終わるパスが存在するかどうかは，

- M = 0 のときは，次数が奇数な頂点が無いとき(オイラーグラフ)に限って YES
- M != 0 のときは，次数が奇数な頂点がちょうど2つあり(準オイラーグラフ)，いずれかが頂点 0 のときに限って YES

で判断する．

N の制約が異常に小さいので本当にこれだけでいいのか心配だった．
それと入力がめんどくさかった．

{% include_code lang:cpp poj/1300.cc %}
