---
layout: post
title: "POJ 2867 - Where Are My Genes"
---
[http://poj.org/problem?id=2867](http://poj.org/problem?id=2867)

## 概要
1, 2, ..., N と並んでいる N 個の要素からなる数列がある．
その数列に対して，R 個の「i 番目から j 番目までの要素を反転させろ」という命令が与えられる．

それら操作を行った後の数列に対して，Q 個の「i 番目の要素は何か」というクエリが与えられるので，それらに答える．

## 制約
- 1 <= N <= 50000
- 0 <= R <= 1000
- 0 <= Q <= 100

## 解法
R 個の操作を覚えておき，クエリがくる度にそのインデックスについて逆算して答える．
O(Q \* R)．

また反転の操作は順番に依存しないので，逆算といっても R 個の操作を先頭からやっても同じ．

{% include_code lang:cpp poj/2867.cc %}
