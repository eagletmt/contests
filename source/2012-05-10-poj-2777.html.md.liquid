---
layout: post
title: "POJ 2777 - Count Color"
---
[http://poj.org/problem?id=2777](http://poj.org/problem?id=2777)

## 概要
\\(L\\) 個の板が一直線に並んでおり、これらに関して \\(O\\) 個の以下のような2種類の操作を行う。

1. "C A B T". A 番目から B 番目までの板を色 C で塗る
2. "P A B". A 番目から B 番目までの板に何種類の色が存在するか出力する

## 制約
- \\(1 \\le L \\le 10 ^ 5\\)
- \\(1 \\le O \\le 10 ^ 5\\)
- 色の種類の数 \\(T\\): \\(1 \\le T \\le 30\\)

## 解法
セグメント木を用いてどちらの操作も \\(O(\\log L)\\) で行えるようにする。
色は高々30種類しかないので、各区間に存在する色はビットフラグで管理することができる。

{% include_code lang:cpp poj/2777.cc %}
