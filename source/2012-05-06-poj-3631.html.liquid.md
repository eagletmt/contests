---
layout: post
title: "POJ 3631 - Cuckoo Hashing"
---
[http://poj.org/problem?id=3631](http://poj.org/problem?id=3631)

## 概要
Cuckoo Hashing というアルゴリズムでハッシュテーブルを作る。

このアルゴリズムは1つの値 \\(q\\) に対して2つのハッシュ関数 \\(h\_1, h\_2\\) を使ってハッシュ値を計算する。
このとき \\(h\_1(q) = h\_2(q)\\) ともなりうる。

値 \\(d\\) をハッシュテーブル \\(T\\) に挿入するときの手順は以下である。

1. \\(T[h\_1(d)]\\) が空のとき、\\(T[h\_1(d)] := d\\) として挿入を終了する
2. \\(T[h\_2(d)]\\) が空のとき、\\(T[h\_2(d)] := d\\) として挿入を終了する
3. どちらも空でないとき、\\(T[h\_1(d)] = d'\\) とすると \\(T[h\_1(d)] := d\\) とした後 \\(d'\\) を再び挿入する

この手順はもちろん無限ループに陥ることがある。そのときは再ハッシュが必要になる。

サイズ \\(n\\) のハッシュテーブルに与えられた \\(m\\) 個の値を挿入したとき、再ハッシュが必要になるかどうか答える。

## 制約
- \\(1 \\le m \\le n \\le 10 ^ 4\\)

## 解法
上記のアルゴリズムを愚直に実装しても間に合った。

{% include_code lang:cpp poj/3631.cc %}
