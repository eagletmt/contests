---
layout: post
title: "POJ 3280 - Cheapest Palindrome"
---
[http://poj.org/problem?id=3280](http://poj.org/problem?id=3280)

## 概要
\\(N\\) 種類の小文字のアルファベットのみからなる長さ \\(M\\) の文字列 \\(s\\) が与えられる。
各 \\(N\\) 種類の文字について追加・削除したときのコストがそれぞれ与えられる。
文字の追加・削除は好きな位置に行うことができ、位置によらずコストは一定である。
このとき、\\(s\\) を回文にするのに必要な最小のコストを答える。

## 制約
- \\(1 \\le N \\le 26\\)
- \\(1 \\le M \\le 2000\\)
- \\(0 \\le \\mathit{cost} \\le 10 ^ 4\\)

## 解法
区間 DP。

既にある区間が回文のとき、そこから回文の区間を広げるときに、
追加した文字を別の端に追加することと、今追加した文字を削除することは同じなので、
結局追加コストと削除コストのうち小さいほうのコストだけ考えればよい。

DP 表を

    dp[i][j] = 区間 [i, j) を修正して回文にするための最小コスト

と定義し、

    dp[i][i] = dp[i][i+1] = 0 (長さが 0, 1 の文字列は回文)
    dp[i-1][j] := dp[i][j] + cost[i-1 番目の文字] (区間を左側にのばす)
    dp[i][j+1] := dp[i][j] + cost[j 番目の文字] (区間を右側にのばす)
    dp[i-1][j+1] := dp[i][j]  (i-1 番目の文字と j 番目の文字が等しいとき、コスト無しで区間を両側にのばす)

と更新していけばよい。

{% include_code lang:cpp poj/3280.cc %}
