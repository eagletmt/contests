---
layout: post
title: "POJ 3107 - Godfather"
---
[http://poj.org/problem?id=3107](http://poj.org/problem?id=3107)

## 概要
n 人のマフィア関係者の関係が無向木として表されている．

Godfather は，木のルートであり，そのノードを消したときに残った連続成分の最大のサイズが最小になるという性質を持っている．

Godfather でありうるノードの番号をすべて出力する．

## 制約
- 2 <= n <= 50000

## 解法
適当なノードを木のルートに設定して，DFS で各ノードをルートとする部分木のサイズ s[1], ..., s[k] を求める．
すると，そのノードを消したときの連続成分のサイズは s[1], ..., s[k], n - Σs[i] なので，これの最大値が最小になるようなノードを列挙すればいい．

n <= 50000 なので余裕のように見えるけど，普通に隣接リストで木を表現して DFS だと TLE…

木をエッジのリストで表現して同じように DFS したら通った (704MS)．

{% include_code lang:cpp poj/3107.cc %}
