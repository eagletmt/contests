---
layout: post
title: "POJ 3347 - Kadj Squares"
---
[http://poj.org/problem?id=3347](http://poj.org/problem?id=3347)

## 概要
n 個の異なる大きさの正方形 S[1], ..., S[n] があり，それぞれの一辺の長さ s[i] が与えられる．

これらを xy 平面上に，x 軸および y 軸と45度の角度をなすようにして x 軸上に y = 0 から順に並べていく．

つまり，S[i] の y 軸上にある頂点の x 座標を b[i] とすると，

- b[i] > b[i-1]
- S[i] は S[1], ..., S[i-1] のどの正方形の内部と共通部分を持たない

という条件を満たすように並べる．

このとき，上から見える正方形をすべて答える．
ここで「S[i] が上から見える」とは，S[i] の内部のある点 p から上に半直線を伸ばしたとき，S[i] 以外の正方形と交わらないこととする．

## 制約
- 1 <= n <= 50
- 1 <= s[i] <= 30

## 解法
まず b[i] を求める．
おそらく場合分けしつつ何らかの計算式で求まると思うが，面倒そうだったので二分探索で S[i] をできるだけ左でかつ S[1], ..., S[i-1] と重ならないような点を求めた．

b[i] を求めてしまえば，b[i]±s[i]/sqrt(2) の範囲で S[i] 以外の図形と交わらないような範囲があるかどうかチェックすれば，上から見えるかどうかわかる．

{% include_code lang:cpp poj/3347.cc %}
