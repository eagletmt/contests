---
layout: post
title: "POJ 3658 - Artificial Lake"
---
[http://poj.org/problem?id=3658](http://poj.org/problem?id=3658)

## 概要
無限に高い壁で区切られた区間があり、ここを \\(N\\) 個の部分区間に分ける。
各部分区間の幅は \\(W\_i\\) で高度は \\(H\_i\\) である。

最も高度が低い部分区間の上空から単位時間に単位面積分の水を入れる。
各部分区間が、その高度より1高い位置まで水が張るのにかかる時間を答える。

## 制約
- \\(1 \\le N \\le 10 ^ 5\\)
- \\(1 \\le W\_i \\le 10 ^ 3\\)
- \\(1 \\le H\_i \\le 10 ^ 6\\)

## 解法
水を入れている場所のインデックスを I とする。
半開区間 [beg, end) が水に覆われるまでを考えると、[beg, end) の中で最も高い場所のインデックスを lv とすると、
lv < I のときはまず [lv+1, end) の区間が水で覆われ、その後 I の場所から水が溢れながら [beg, I) の区間が水で覆われ、そして最後に I が覆われる。
lv > I のときも同様である。
そんなかんじの再帰で解いた。

区間の中で最も高い場所を求めるのはいわゆる RMQ (Range Minimum Query) 問題なので、SegmentTree で \\(O(\\log N)\\) で求められるようにしておいた。

{% include_code lang:cpp poj/3658.cc %}
