---
layout: post
title: "POJ 3342 - Party at Hali-Bula"
---
[http://poj.org/problem?id=3342](http://poj.org/problem?id=3342)

## 概要
n 人の従業員からできるだけ多くの人をパーティに招待したい．

しかし，ある従業員とその上司を同時にパーティに招待しないようにしなければならない．
この組織においては，Big Boss を除いてどの従業員も上司は一人しかいない．

このとき，パーティに招待できる最大の人数と，招待の仕方が唯一通りしかないかどうかを答える．

## 制約
- 1 <= n <= 200

## 解法
木構造に従って，葉のほうから

- その人を招待したときの最大人数
- その人を招待しなかったときの最大人数

を埋めていく DP．

唯一通りかどうかの判定がやや面倒．唯一通りじゃなくなるのは大きく分けて，

- 子ノードに「招待してもしなくても最大人数が変わらない」ものがあるとき
- 子ノードに「最大人数を与えるよう招待したときに，それが唯一通りでない」ものがあるとき

の2つ．

{% include_code lang:cpp poj/3342.cc %}
