---
layout: post
title: "AOJ 2317 - Class Representative Witch"
---
[http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2317](http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2317)

## 解法
- 糸の区間の開始点
- 糸の区間の終了点
- 爆発で切れた点

をイベントとしてまとめて，左から2回見ていく．

1回目は，各糸上の爆発点の数を調べる．
これは，(終了点までに見た爆発点) - (開始点までに見た爆発点) で得ることができる．

2回目は，残っている糸の長さを調べる．
これは，今見ている点までで残っている糸と残っていない糸の数を管理することで数えることができる．
ある糸の開始点が残っているのは，その点が使い魔が持っている側の点のときか，あるいは爆発点の数が偶数のとき．
同様に，ある糸の終了点が残っているのは，その点が使い魔が持っている側の点のときか，あるいは爆発点の数が偶数のとき．
また，爆発点においては，残っている糸の数と残っていない糸の数が逆転する．

答えは int の範囲に収まらない場合もあることに注意．
{% include_code lang:cpp aoj/2317.cc %}
